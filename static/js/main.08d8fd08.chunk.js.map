{"version":3,"sources":["model/TodoState.ts","store/TodoStore.ts","res/arrow-down-short.svg","res/arrow-left-short.svg","res/arrow-right-short.svg","res/arrow-up-down.svg","res/arrow-up-short.svg","res/check-circle.svg","res/check.svg","res/circle.svg","res/clipboard.svg","res/plus.svg","res/trash.svg","res/x-circle.svg","fun/todoStateToIcon.ts","comp/IconComp.tsx","comp/DeleteTodoComp.tsx","comp/DeleteTodoListComp.tsx","store/AppStore.ts","comp/ReorderTodoComp.tsx","comp/ReorderTodoListComp.tsx","comp/TodoComp.tsx","comp/TodoListComp.tsx","comp/AppComp.tsx","serviceWorker.ts","index.tsx"],"names":["TodoState","TodoStates","NEW","DONE","FAILED","LS_KEY","TodoStore","Store","store","makeTodoStoreState","parsed","JSON","parse","localStorage","getItem","todoOrder","length","e","console","error","loadState","subscribe","s","draft","nu","old","saveStateThrottled","throttle","setItem","stringify","getRawState","alert","id","v4","todosById","name","state","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fillRule","d","clipRule","_ref3","SvgArrowDownShort","_ref","svgRef","title","titleId","props","className","width","height","viewBox","fill","ref","ForwardRef","SvgArrowLeftShort","SvgArrowRightShort","_ref4","SvgArrowUpDown","SvgCheckCircle","SvgCircle","SvgClipboard","SvgTrash","SvgXCircle","todoStateToIcon","Icons_circle","Icons_checkCircle","Icons_xCircle","IconComp","createElement","icon","DeleteTodoComp","todo","useState","history","useHistory","type","onClick","update","o","goBack","filter","Icons_trash","DeleteTodoListComp","Icons_arrowLeftShort","ensureOneTodo","map","AppStore","reorderId","ReorderTodoComp","oldIndex","newIndex","splice","Icons_arrowRightShort","Icons_arrowDownShort","ReorderTodoListComp","useEffect","TodoComp","wasEmpty","useRef","wasEdge","onSubmit","preventDefault","document","activeElement","HTMLInputElement","classList","contains","value1","value","slice","Math","min","selectionStart","selectionEnd","value2","max","currentId","replace","newId","index","requestAnimationFrame","newInput","getElementById","focus","setSelectionRange","autoComplete","onChange","currentTarget","onBeforeInput","input","nativeEvent","data","test","arr","split","focusStart","undefined","start","end","last","focusByIndex","onKeyDown","current","onKeyUp","prevNameEnd","prevTodo","origNameEnd","nextTodo","TodoListComp","push","Icons_arrowUpDown","navigator","clipboard","writeText","join","Icons_clipboard","style","marginLeft","values","AppComp","path","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"6HAAYA,E,gEAAAA,K,UAAAA,E,YAAAA,E,iBAAAA,M,KAML,IAAMC,EAAmC,CAC/CD,EAAUE,IACVF,EAAUG,KACVH,EAAUI,Q,gCCHLC,EAAS,YAOFC,EAAY,IAAIC,IAoB7B,WACC,IAAIC,EAAQC,IACZ,IACC,IAAMC,EAASC,KAAKC,MAAMC,aAAaC,QAAQT,IAI3CK,GAAUA,EAAOK,UAAUC,SAC9BR,EAAQE,GAER,MAAOO,GACRC,QAAQC,MAAMF,GAEf,OAAOT,EAjCuCY,IAE/Cd,EAAUe,WACT,SAACC,GAAD,OAAOA,KACP,SAACC,EAAOC,EAAIC,GACXC,OAIF,IAAMA,EAAqBC,oBAE3B,WACC,IACCd,aAAae,QAAQvB,EAAQM,KAAKkB,UAAUvB,EAAUwB,gBACrD,MAAOb,GACRC,QAAQC,MAAMF,GACdc,MAAMd,MAPuC,KA2BxC,SAASR,IACf,IAAMuB,EAAKC,cACX,MAAO,CACNC,UAAU,eACRF,EAAK,CACLA,GAAIA,EACJG,KAAM,GACNC,MAAOpC,EAAUE,MAGnBa,UAAW,CAACiB,IC3Dd,SAASK,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU1B,OAAQyB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAASQ,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWpC,OAAQyB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxMe,CAA8BZ,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBzC,OAAQyB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAImB,EAAqB,gBAAoB,OAAQ,CACnDC,SAAU,UACVC,EAAG,kHACHC,SAAU,YAGRC,EAAqB,gBAAoB,OAAQ,CACnDH,SAAU,UACVC,EAAG,yDACHC,SAAU,YAGZ,SAASE,EAAkBC,EAAMC,GAC/B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQnB,EAAyBe,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO5B,EAAS,CACtDiC,UAAW,yBACXC,MAAO,MACPC,OAAQ,MACRC,QAAS,YACTC,KAAM,eACNC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnC,GAAIoC,GACHD,GAAS,KAAMR,EAAOI,GAG3B,IAAIa,EAA0B,aAAiBZ,GAChC,ICvCf,SAAS,IAA2Q,OAA9P,EAAW1B,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU1B,OAAQyB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,EAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWpC,OAAQyB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBzC,OAAQyB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,EAAqB,gBAAoB,OAAQ,CACnDoB,SAAU,UACVC,EAAG,gHACHC,SAAU,YAGR,EAAqB,gBAAoB,OAAQ,CACnDF,SAAU,UACVC,EAAG,4DACHC,SAAU,YAGZ,SAASe,EAAkBZ,EAAMC,GAC/B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDK,UAAW,yBACXC,MAAO,MACPC,OAAQ,MACRC,QAAS,YACTC,KAAM,eACNC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnC,GAAIoC,GACHD,GAAS,KAAM,EAAO,GAG3B,IAAI,EAA0B,aAAiBU,GAChC,ICvCf,SAAS,IAA2Q,OAA9P,EAAWvC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU1B,OAAQyB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,EAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWpC,OAAQyB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBzC,OAAQyB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,EAAqB,gBAAoB,OAAQ,CACnDoB,SAAU,UACVC,EAAG,kHACHC,SAAU,YAGR,EAAqB,gBAAoB,OAAQ,CACnDF,SAAU,UACVC,EAAG,wDACHC,SAAU,YAGZ,SAASgB,EAAmBb,EAAMC,GAChC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDK,UAAW,0BACXC,MAAO,MACPC,OAAQ,MACRC,QAAS,YACTC,KAAM,eACNC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnC,GAAIoC,GACHD,GAAS,KAAM,EAAO,GAG3B,IAAI,EAA0B,aAAiBW,GAChC,ICvCf,SAAS,IAA2Q,OAA9P,EAAWxC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU1B,OAAQyB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,EAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWpC,OAAQyB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBzC,OAAQyB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,EAAqB,gBAAoB,OAAQ,CACnDoB,SAAU,UACVC,EAAG,0DACHC,SAAU,YAGR,EAAqB,gBAAoB,OAAQ,CACnDF,SAAU,UACVC,EAAG,6MACHC,SAAU,YAGRiB,EAAqB,gBAAoB,OAAQ,CACnDnB,SAAU,UACVC,EAAG,yDACHC,SAAU,YAGZ,SAASkB,EAAef,EAAMC,GAC5B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDK,UAAW,sBACXC,MAAO,MACPC,OAAQ,MACRC,QAAS,YACTC,KAAM,eACNC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnC,GAAIoC,GACHD,GAAS,KAAM,EAAO,EAAOY,GAGlC,IAAI,EAA0B,aAAiBC,GAChC,ICNA,ICvCf,SAAS,IAA2Q,OAA9P,EAAW1C,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU1B,OAAQyB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,EAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWpC,OAAQyB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBzC,OAAQyB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,EAAqB,gBAAoB,OAAQ,CACnDoB,SAAU,UACVC,EAAG,4LAGL,SAASoB,EAAehB,EAAMC,GAC5B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDM,MAAO,MACPC,OAAQ,MACRC,QAAS,YACTH,UAAW,0BACXI,KAAM,eACNC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnC,GAAIoC,GACHD,GAAS,KAAM,GAGpB,IAAI,EAA0B,aAAiBc,GAChC,ICCA,ICjCf,SAAS,IAA2Q,OAA9P,EAAW3C,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU1B,OAAQyB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,EAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWpC,OAAQyB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBzC,OAAQyB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,EAAqB,gBAAoB,OAAQ,CACnDoB,SAAU,UACVC,EAAG,gEACHC,SAAU,YAGZ,SAASoB,EAAUjB,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDK,UAAW,eACXC,MAAO,MACPC,OAAQ,MACRC,QAAS,YACTC,KAAM,eACNC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnC,GAAIoC,GACHD,GAAS,KAAM,GAGpB,IAAI,GAA0B,aAAiBe,GAChC,ICjCf,SAAS,KAA2Q,OAA9P,GAAW5C,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU1B,OAAQyB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWpC,OAAQyB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBzC,OAAQyB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDqB,EAAG,6JAGD,GAAqB,gBAAoB,OAAQ,CACnDA,EAAG,yLAGL,SAASsB,GAAalB,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDM,MAAO,GACPC,OAAQ,GACRE,KAAM,eACNJ,UAAW,kBACXG,QAAS,YACTE,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnC,GAAIoC,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiBgB,IAChC,ICIA,ICvCf,SAAS,KAA2Q,OAA9P,GAAW7C,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU1B,OAAQyB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWpC,OAAQyB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBzC,OAAQyB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDqB,EAAG,uJAGD,GAAqB,gBAAoB,OAAQ,CACnDD,SAAU,UACVC,EAAG,6NACHC,SAAU,YAGZ,SAASsB,GAASnB,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,UAAW,cACXC,MAAO,MACPC,OAAQ,MACRC,QAAS,YACTC,KAAM,eACNC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnC,GAAIoC,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiBiB,IAChC,ICrCf,SAAS,KAA2Q,OAA9P,GAAW9C,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU1B,OAAQyB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWpC,OAAQyB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBzC,OAAQyB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDoB,SAAU,UACVC,EAAG,wNAGL,SAASwB,GAAWpB,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDM,MAAO,MACPC,OAAQ,MACRC,QAAS,YACTH,UAAW,sBACXI,KAAM,eACNC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnC,GAAIoC,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBkB,IAChC,IC5BR,SAASC,GAAgBhE,GAC/B,OAAQA,GACP,KAAKtB,EAAUE,IACd,OAAOqF,GACR,KAAKvF,EAAUG,KACd,OAAOqF,EACR,KAAKxF,EAAUI,OACd,OAAOqF,ICJH,SAASC,GAASrB,GACxB,OAAO,mBAAGC,UAAU,UAAb,SAAwBqB,wBAActB,EAAMuB,QCI7C,SAASC,GAAexB,GAC9B,IAAMyB,EAAOxF,EAAUyF,UAAS,SAACzE,GAAD,OAAOA,EAAEY,UAAUmC,EAAMrC,OACnDgE,EAAUC,cAChB,OACC,wBACC3B,UAAU,kBACV4B,KAAK,SACLC,QAAS,SAAClF,GACTX,EAAU8F,QAAO,SAAC9E,EAAG+E,GACpB,GAA2B,IAAvB/E,EAAEP,UAAUC,OAAc,CAC7B,IAAM8E,EAAOxE,EAAEY,UAAUmC,EAAMrC,IAC/B8D,EAAK3D,KAAO,GACZ2D,EAAK1D,MAAQpC,EAAUE,IACvB8F,EAAQM,qBAEDhF,EAAEY,UAAUmC,EAAMrC,IACzBV,EAAEP,UAAYsF,EAAEtF,UAAUwF,QAAO,SAACvE,GAAD,OAAQA,IAAOqC,EAAMrC,UAZ1D,SAiBC,sBAAKsC,UAAU,gBAAf,UACC,cAACoB,GAAD,CAAUE,KAAMY,KAAgB,IAChC,cAACd,GAAD,CAAUE,KAAMN,GAAgBQ,EAAK1D,SAFtC,IAEkD0D,EAAK3D,UCzBnD,SAASsE,GACfpC,GAEA,IAAM2B,EAAUC,cACVlF,EAAYT,EAAUyF,UAAS,SAACzE,GAAD,OAAOA,EAAEP,aAC9C,OACC,qCACC,oBAAIuD,UAAU,WAAd,0BACA,sBAAKA,UAAU,aAAf,UACC,wBACC4B,KAAK,SACLC,QAAS,WACRH,EAAQM,UAHV,SAMC,cAACZ,GAAD,CAAUE,KAAMc,MAEjB,yBACCR,KAAK,SACLC,QAAS,WACR7F,EAAU8F,QAAO,SAAC9E,EAAG+E,GACpB/E,EAAEP,UAAYsF,EAAEtF,UAAUwF,QAAO,SAACvE,GACjC,OAAIqE,EAAEnE,UAAUF,GAAII,QAAUpC,EAAUG,cAChCmB,EAAEY,UAAUF,IACZ,SAKV2E,KACAX,EAAQM,UAbV,yBAgBa,cAACZ,GAAD,CAAUE,KAAMJ,OAE7B,yBACCU,KAAK,SACLC,QAAS,WACR7F,EAAU8F,QAAO,SAAC9E,EAAG+E,GACpB/E,EAAEP,UAAYsF,EAAEtF,UAAUwF,QAAO,SAACvE,GACjC,OAAIqE,EAAEnE,UAAUF,GAAII,QAAUpC,EAAUI,gBAChCkB,EAAEY,UAAUF,IACZ,SAKV2E,KACAX,EAAQM,UAbV,2BAgBe,cAACZ,GAAD,CAAUE,KAAMH,QAE/B,wBACCS,KAAK,SACLC,QAAS,WACR7F,EAAU8F,QAAO,SAAC9E,GAAD,OAAOb,OACxBuF,EAAQM,UAJV,2BAUAvF,EAAU6F,KAAI,SAAC5E,GAAD,OACd,cAAC6D,GAAD,CAAyB7D,GAAIA,GAARA,SAMzB,SAAS2E,KACyC,IAA7CrG,EAAUwB,cAAcf,UAAUC,QACrCV,EAAU8F,QAAO,SAAC9E,GAAD,OAAOb,OC5EnB,IAAMoG,GAAW,IAAItG,IAAiB,CAC5CuG,UAAW,OCIL,SAASC,GACf1C,GAEA,IAAMyB,EAAOxF,EAAUyF,UAAS,SAACzE,GAAD,OAAOA,EAAEY,UAAUmC,EAAMrC,OACnD8E,EAAYD,GAASd,UAAS,SAACzE,GAAD,OAAOA,EAAEwF,aAC7C,OACC,wBACCxC,UAAU,mBACV4B,KAAK,SACLC,QAAS,SAAClF,GACQ,MAAb6F,EACHD,GAAST,QAAO,SAAC9E,GAChBA,EAAEwF,UAAYzC,EAAMrC,OAGrB1B,EAAU8F,QAAO,SAAC9E,EAAG+E,GACpB,IAAMW,EAAWX,EAAEtF,UAAUuC,QAAQwD,GACjCG,EAAWZ,EAAEtF,UAAUuC,QAAQe,EAAMrC,IAAM,EAC3CiF,EAAWD,GACdC,IAED3F,EAAEP,UAAUmG,OAAOF,EAAU,GAC7B1F,EAAEP,UAAUmG,OAAOD,EAAU,EAAGH,MAEjCD,GAAST,QAAO,SAAC9E,GAChBA,EAAEwF,UAAY,UAnBlB,SAwBC,sBAAKxC,UAAU,gBAAf,UACC,cAACoB,GAAD,CACCE,KACc,MAAbkB,EACGK,EACAC,IAEF,IACH,cAAC1B,GAAD,CAAUE,KAAMN,GAAgBQ,EAAK1D,SARtC,IAQkD0D,EAAK3D,UCvCnD,SAASkF,GACfhD,GAEA,IAAMtD,EAAYT,EAAUyF,UAAS,SAACzE,GAAD,OAAOA,EAAEP,aACxC+F,EAAYD,GAASd,UAAS,SAACzE,GAAD,OAAOA,EAAEwF,aACvCd,EAAUC,cAShB,OARAqB,qBACC,kBAAM,WACLT,GAAST,QAAO,SAAC9E,GAChBA,EAAEwF,UAAY,WAGhB,IAGA,qCACC,oBAAIxC,UAAU,WAAd,2BACA,qBAAKA,UAAU,aAAf,SACC,wBACC4B,KAAK,SACLC,QAAS,WACRH,EAAQM,UAHV,SAMC,cAACZ,GAAD,CAAUE,KAAMc,QAGjB3F,EACCwF,QAAO,SAACvE,GAAD,OAAQA,IAAO8E,KACtBF,KAAI,SAAC5E,GAAD,OACJ,cAAC+E,GAAD,CAA0B/E,GAAIA,GAARA,SC5BpB,SAASuF,GAASlD,GACxB,IAAMmD,EAAWC,kBAAgB,GAC3BC,EAAUD,kBAAgB,GAC1B3B,EAAOxF,EAAUyF,UAAS,SAACzE,GAAD,OAAOA,EAAEY,UAAUmC,EAAMrC,OACzD,OACC,uBACCsC,UAAU,UACVqD,SAAU,SAAC1G,GACVA,EAAE2G,iBACF,IAAMpF,EAASqF,SAASC,cACxB,GACCtF,aAAkBuF,kBAClBvF,EAAOwF,UAAUC,SAAS,iBACzB,CAAC,IAAD,QACKC,EAAS1F,EAAO2F,MAAMC,MAC3B,EACAC,KAAKC,IAAL,UACC9F,EAAO+F,sBADR,QAC0B,EAD1B,UAEC/F,EAAOgG,oBAFR,QAEwBhG,EAAO2F,MAAMnH,SAGhCyH,EAASjG,EAAO2F,MAAMC,MAC3BC,KAAKK,IAAL,UACClG,EAAO+F,sBADR,QAC0B,EAD1B,UAEC/F,EAAOgG,oBAFR,QAEwBhG,EAAO2F,MAAMnH,QAErCwB,EAAO2F,MAAMnH,QAER2H,EAAYnG,EAAOR,GAAG4G,QAAQ,UAAW,IACzCC,EAAQ5G,cACd3B,EAAU8F,QAAO,SAAC9E,GACjBA,EAAEY,UAAUyG,GAAWxG,KAAO+F,EAC9B5G,EAAEY,UAAU2G,GAAS,CACpB7G,GAAI6G,EACJ1G,KAAMsG,EACNrG,MAAOpC,EAAUE,KAElBoB,EAAEP,UAAUmG,OAAO7C,EAAMyE,MAAQ,EAAG,EAAGD,MAExCE,uBAAsB,WACrB,IAAMC,EAAWnB,SAASoB,eAAT,gBAAiCJ,IAC9CG,aAAoBjB,mBACvBiB,EAASE,QACTF,EAASG,kBAAkB,EAAG,SAtCnC,UA4CC,wBACCjD,KAAK,SACLC,QAAS,SAAClF,GACTX,EAAU8F,QAAO,SAAC9E,GACjB,IAAMwE,EAAOxE,EAAEY,UAAUmC,EAAMrC,IAEzBiF,GADQhH,EAAWqD,QAAQwC,EAAK1D,OACZ,GAAKnC,EAAWe,OAC1C8E,EAAK1D,MAAQnC,EAAWgH,OAP3B,SAWC,cAACvB,GAAD,CAAUE,KAAMN,GAAgBQ,EAAK1D,WAEtC,uBACCJ,GAAE,gBAAW8D,EAAK9D,IAClBsC,UAAU,gBACV6D,MAAOrC,EAAK3D,KACZiH,aAAa,MACbC,SAAU,SAACpI,GACVX,EAAU8F,QAAO,SAAC9E,GACjBA,EAAEY,UAAUmC,EAAMrC,IAAIG,KAAOlB,EAAEqI,cAAcnB,UAG/CoB,cAAe,SAACtI,GACf,IAAMuI,EAASvI,EAAEwI,YAA2BC,KAC5C,GACkB,kBAAVF,GACPA,EAAMxI,OAAS,GACf,QAAQ2I,KAAKH,GACZ,CACDvI,EAAE2G,iBACF,IAAMgC,EAAMJ,EAAMK,MAAM,YACpBC,OAAiCC,EACrCzJ,EAAU8F,QAAO,SAAC9E,GAAO,IAAD,QACjBwE,EAAOxE,EAAEY,UAAUmC,EAAMrC,IACzBgI,EAAQ3B,KAAKC,IAAL,UACbrH,EAAEqI,cAAcf,sBADH,QACqB,EADrB,UAEbtH,EAAEqI,cAAcd,oBAFH,QAEmB,GAE3ByB,EAAM5B,KAAKK,IAAL,UACXzH,EAAEqI,cAAcf,sBADL,QACuBzC,EAAK3D,KAAKnB,OADjC,UAEXC,EAAEqI,cAAcd,oBAFL,QAEqB1C,EAAK3D,KAAKnB,QAErCkJ,EAAOpE,EAAK3D,KAAKiG,MAAM6B,GAC7BnE,EAAK3D,KAAO2D,EAAK3D,KAAKiG,MAAM,EAAG4B,GAASJ,EAAI,GAE5C,IAAK,IAAInH,EAAI,EAAGA,EAAImH,EAAI5I,OAAQyB,IAAK,CACpC,IAAMN,EAAOM,EAAI,IAAMmH,EAAI5I,OAAS4I,EAAInH,GAAKyH,EAAON,EAAInH,GACxDqH,EAAaF,EAAInH,GAAGzB,OACpB,IAAM8H,EAAQzE,EAAMyE,MAAQrG,EACtBT,EAAKC,cACXX,EAAEP,UAAUmG,OAAO4B,EAAO,EAAG9G,GAC7BV,EAAEY,UAAUF,GAAM,CACjBA,GAAIA,EACJG,KAAMA,EACNC,MAAOpC,EAAUE,SAIpB6I,uBAAsB,WACrBA,uBAAsB,WACrBoB,GACC9F,EAAMyE,MAAQc,EAAI5I,OAAS,EAC3B8I,EACAA,WAMLM,UAAW,SAACnJ,GAEiB,IAAD,IAA3B,GADAuG,EAAS6C,QAAoC,KAA1BpJ,EAAEqI,cAAcnB,MACrB,cAAVlH,EAAE2B,IACL8E,EAAQ2C,QAID,IAHNhC,KAAKK,IAAL,UACCzH,EAAEqI,cAAcf,sBADjB,QACmC,EADnC,UAECtH,EAAEqI,cAAcd,oBAFjB,QAEiCvH,EAAEqI,cAAcnB,MAAMnH,QAEpD0G,EAAQ2C,SACXpJ,EAAE2G,sBAEG,GAAc,WAAV3G,EAAE2B,IAAkB,CAAC,IAAD,IAC9B8E,EAAQ2C,QACPhC,KAAKC,IAAL,UACCrH,EAAEqI,cAAcf,sBADjB,QACmC,EADnC,UAECtH,EAAEqI,cAAcd,oBAFjB,QAEiCvH,EAAEqI,cAAcnB,MAAMnH,UACjDC,EAAEqI,cAAcnB,MAAMnH,OACzB0G,EAAQ2C,SACXpJ,EAAE2G,sBAEiB,YAAV3G,EAAE2B,KAEQ,cAAV3B,EAAE2B,MADZ3B,EAAE2G,kBAKJ0C,QAAS,SAACrJ,GACT,GAAc,cAAVA,EAAE2B,KACL,GAAI8E,EAAQ2C,QAAS,CACpB,IAAIE,OAAkCR,EACtCzJ,EAAU8F,QAAO,SAAC9E,EAAG+E,GACpB,IAAMyC,EAAQzC,EAAEtF,UAAUuC,QAAQwC,EAAK9D,IACvC,GAAI8G,EAAQ,EAAG,CACd,IAAM0B,EAAWlJ,EAAEY,UAAUZ,EAAEP,UAAU+H,EAAQ,IACjDyB,EAAcC,EAASrI,KAAKnB,OAC5BwJ,EAASrI,MAAQ2D,EAAK3D,YACfb,EAAEY,UAAU4D,EAAK9D,IACxBV,EAAEP,UAAUmG,OAAO7C,EAAMyE,MAAO,OAGlCC,uBAAsB,WACrBoB,GAAa9F,EAAMyE,MAAQ,EAAGyB,EAAaA,YAGvC,GAAc,WAAVtJ,EAAE2B,KACZ,GAAI8E,EAAQ2C,QAAS,CACpB,IAAII,OAAkCV,EACtCzJ,EAAU8F,QAAO,SAAC9E,EAAG+E,GACpB,IAAMyC,EAAQzC,EAAEtF,UAAUuC,QAAQwC,EAAK9D,IACvC,GAAI8G,EAAQzC,EAAEtF,UAAUC,OAAS,EAAG,CACnC,IAAM0J,EAAWpJ,EAAEY,UAAUZ,EAAEP,UAAU+H,EAAQ,IACjD2B,EAAc3E,EAAK3D,KAAKnB,OACxBM,EAAEY,UAAU4D,EAAK9D,IAAIG,MAAQuI,EAASvI,YAC/Bb,EAAEY,UAAUwI,EAAS1I,IAC5BV,EAAEP,UAAUmG,OAAO4B,EAAQ,EAAG,OAGhCC,uBAAsB,WACrBoB,GAAa9F,EAAMyE,MAAO2B,EAAaA,YAGnC,GAAc,YAAVxJ,EAAE2B,IAAmB,CAAC,IAAD,EAC/B3B,EAAE2G,iBACF,IAAMoC,EAAK,UAAG/I,EAAEqI,cAAcf,sBAAnB,QAAqC,EAChD4B,GAAa9F,EAAMyE,MAAQ,EAAGkB,EAAOA,QAC/B,GAAc,cAAV/I,EAAE2B,IAAqB,CAAC,IAAD,EACjC3B,EAAE2G,iBACF,IAAMqC,EAAG,UACRhJ,EAAEqI,cAAcd,oBADR,QACwBvH,EAAEqI,cAAcnB,MAAMnH,OACvDmJ,GAAa9F,EAAMyE,MAAQ,EAAGmB,EAAKA,UAQzC,SAASE,GAAarB,EAAekB,EAAgBC,GACpD,IAAMjI,EAAK1B,EAAUwB,cAAcf,UAAU+H,GAC7C,GAAU,MAAN9G,EAAY,CACf,IAAMwH,EAAQ3B,SAASoB,eAAT,gBAAiCjH,IAC3CwH,aAAiBzB,mBACpByB,EAAMN,QACO,MAATc,GAAwB,MAAPC,GACpBT,EAAML,kBAAkBa,EAAOC,KC7M5B,SAASU,GAAatG,GAC5B,IAAMtD,EAAYT,EAAUyF,UAAS,SAACzE,GAAD,OAAOA,EAAEP,aACxCiF,EAAUC,cAChB,OACC,qCACC,sBAAK3B,UAAU,aAAf,UACC,wBACC4B,KAAK,SACLC,QAAS,WACRH,EAAQ4E,KAAR,YAHF,SAMC,cAAClF,GAAD,CAAUE,KAAMY,OAEjB,wBACCN,KAAK,SACLC,QAAS,WACRH,EAAQ4E,KAAR,aAHF,SAMC,cAAClF,GAAD,CAAUE,KAAMiF,MAEjB,wBACC3E,KAAK,SACLC,QAAS,WACR,IAAM7E,EAAIhB,EAAUwB,cACpBgJ,UAAUC,UAAUC,UACnB1J,EAAEP,UAAU6F,KAAI,SAAC5E,GAAD,OAAQV,EAAEY,UAAUF,GAAIG,QAAM8I,KAAK,QALtD,SASC,cAACvF,GAAD,CAAUE,KAAMsF,OAEjB,wBACChF,KAAK,SACLiF,MAAO,CAAEC,WAAY,QACrBjF,QAAS,WACR7F,EAAU8F,QAAO,SAAC9E,EAAG+E,GACpB,cAAmB/D,OAAO+I,OAAO/J,EAAEY,WAAnC,eAA+C,CAAhC,KACTE,MAAQpC,EAAUE,SAN3B,0BAcAa,EAAU6F,KAAI,SAAC5E,EAAI8G,GACnB,OAAO,cAACvB,GAAD,CAAmBvF,GAAIA,EAAI8G,MAAOA,GAAnB9G,SClDnB,SAASsJ,GAAQjH,GACvB,OACC,mCACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOkH,KAAK,UAAUC,UAAW/E,KACjC,cAAC,IAAD,CAAO8E,KAAK,WAAWC,UAAWnE,KAClC,cAAC,IAAD,CAAOkE,KAAK,IAAIC,UAAWb,U,UCFzBc,GAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DA8CN,SAASC,GAAgBC,EAAeC,GACtCnB,UAAUoB,cACPC,SAASH,GACTI,MAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBnK,QACf0I,UAAUoB,cAAcQ,YAI1BxL,QAAQyL,IACN,iHAKEV,GAAUA,EAAOW,UACnBX,EAAOW,SAASP,KAMlBnL,QAAQyL,IAAI,sCAGRV,GAAUA,EAAOY,WACnBZ,EAAOY,UAAUR,WAO5BS,OAAM,SAAA3L,GACLD,QAAQC,MAAM,4CAA6CA,MCjGjE4L,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,IAAD,UACC,cAAC3B,GAAD,QAGFzD,SAASoB,eAAe,SDclB,SAAkBgD,GACvB,GAA6C,kBAAmBnB,UAAW,CAMzE,GAJkB,IAAIoC,IACpBC,QACAxB,OAAOC,SAASwB,MAEJC,SAAW1B,OAAOC,SAASyB,OAIvC,OAGF1B,OAAO2B,iBAAiB,QAAQ,WAC9B,IAAMtB,EAAK,UAAMmB,QAAN,sBAEP1B,KAgEV,SAAiCO,EAAeC,GAE9CsB,MAAMvB,EAAO,CACXwB,QAAS,CAAE,iBAAkB,YAE5BpB,MAAK,SAAAqB,GAEJ,IAAMC,EAAcD,EAASD,QAAQG,IAAI,gBAEnB,MAApBF,EAASG,QACO,MAAfF,IAA8D,IAAvCA,EAAYpK,QAAQ,cAG5CwH,UAAUoB,cAAc2B,MAAMzB,MAAK,SAAAC,GACjCA,EAAayB,aAAa1B,MAAK,WAC7BT,OAAOC,SAASmC,eAKpBhC,GAAgBC,EAAOC,MAG1Ba,OAAM,WACL5L,QAAQyL,IACN,oEAvFAqB,CAAwBhC,EAAOC,GAI/BnB,UAAUoB,cAAc2B,MAAMzB,MAAK,WACjClL,QAAQyL,IACN,iHAMJZ,GAAgBC,EAAOC,OCvC/BC,K","file":"static/js/main.08d8fd08.chunk.js","sourcesContent":["export enum TodoState {\r\n\tNEW = 'NEW',\r\n\tDONE = 'DONE',\r\n\tFAILED = 'FAILED',\r\n}\r\n\r\nexport const TodoStates: readonly TodoState[] = [\r\n\tTodoState.NEW,\r\n\tTodoState.DONE,\r\n\tTodoState.FAILED,\r\n]\r\n","import { throttle } from 'lodash'\nimport { Store } from 'pullstate'\nimport { v4 } from 'uuid'\nimport { Todo } from '../model/Todo'\nimport { TodoState } from '../model/TodoState'\n\nconst LS_KEY = 'TodoStore'\n\nexport interface ITodoStore {\n\ttodosById: { [k: string]: Todo }\n\ttodoOrder: string[]\n}\n\nexport const TodoStore = new Store<ITodoStore>(loadState())\n\nTodoStore.subscribe(\n\t(s) => s,\n\t(draft, nu, old) => {\n\t\tsaveStateThrottled()\n\t},\n)\n\nconst saveStateThrottled = throttle(saveState, 600)\n\nfunction saveState() {\n\ttry {\n\t\tlocalStorage.setItem(LS_KEY, JSON.stringify(TodoStore.getRawState()))\n\t} catch (e) {\n\t\tconsole.error(e)\n\t\talert(e)\n\t}\n}\n\nfunction loadState(): ITodoStore {\n\tlet store = makeTodoStoreState()\n\ttry {\n\t\tconst parsed = JSON.parse(localStorage.getItem(LS_KEY)!) as\n\t\t\t| ITodoStore\n\t\t\t| undefined\n\t\t\t| null\n\t\tif (parsed && parsed.todoOrder.length) {\n\t\t\tstore = parsed\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n\treturn store\n}\n\nexport function makeTodoStoreState(): ITodoStore {\n\tconst id = v4()\n\treturn {\n\t\ttodosById: {\n\t\t\t[id]: {\n\t\t\t\tid: id,\n\t\t\t\tname: '',\n\t\t\t\tstate: TodoState.NEW,\n\t\t\t},\n\t\t},\n\t\ttodoOrder: [id],\n\t}\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M4.646 7.646a.5.5 0 01.708 0L8 10.293l2.646-2.647a.5.5 0 01.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 4.5a.5.5 0 01.5.5v5a.5.5 0 01-1 0V5a.5.5 0 01.5-.5z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgArrowDownShort(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"bi bi-arrow-down-short\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDownShort);\nexport default __webpack_public_path__ + \"static/media/arrow-down-short.ccbe0c2c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M7.854 4.646a.5.5 0 010 .708L5.207 8l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M4.5 8a.5.5 0 01.5-.5h6.5a.5.5 0 010 1H5a.5.5 0 01-.5-.5z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgArrowLeftShort(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"bi bi-arrow-left-short\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeftShort);\nexport default __webpack_public_path__ + \"static/media/arrow-left-short.9f483acf.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8.146 4.646a.5.5 0 01.708 0l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708-.708L10.793 8 8.146 5.354a.5.5 0 010-.708z\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M4 8a.5.5 0 01.5-.5H11a.5.5 0 010 1H4.5A.5.5 0 014 8z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgArrowRightShort(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"bi bi-arrow-right-short\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowRightShort);\nexport default __webpack_public_path__ + \"static/media/arrow-right-short.dfff2321.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M11 3.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V4a.5.5 0 01.5-.5z\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M10.646 2.646a.5.5 0 01.708 0l3 3a.5.5 0 01-.708.708L11 3.707 8.354 6.354a.5.5 0 11-.708-.708l3-3zm-9 7a.5.5 0 01.708 0L5 12.293l2.646-2.647a.5.5 0 11.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M5 2.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V3a.5.5 0 01.5-.5z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgArrowUpDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"bi bi-arrow-up-down\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowUpDown);\nexport default __webpack_public_path__ + \"static/media/arrow-up-down.faa2892a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 5.5a.5.5 0 01.5.5v5a.5.5 0 01-1 0V6a.5.5 0 01.5-.5z\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M7.646 4.646a.5.5 0 01.708 0l3 3a.5.5 0 01-.708.708L8 5.707 5.354 8.354a.5.5 0 11-.708-.708l3-3z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgArrowUpShort(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"bi bi-arrow-up-short\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowUpShort);\nexport default __webpack_public_path__ + \"static/media/arrow-up-short.8a80c882.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z\"\n});\n\nfunction SvgCheckCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    className: \"bi bi-check-circle-fill\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckCircle);\nexport default __webpack_public_path__ + \"static/media/check-circle.65631a19.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M13.854 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L6.5 10.293l6.646-6.647a.5.5 0 01.708 0z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"bi bi-check\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.ba61a255.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 15A7 7 0 108 1a7 7 0 000 14zm0 1A8 8 0 108 0a8 8 0 000 16z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"bi bi-circle\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCircle);\nexport default __webpack_public_path__ + \"static/media/circle.e3781396.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"\n});\n\nfunction SvgClipboard(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-clipboard\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClipboard);\nexport default __webpack_public_path__ + \"static/media/clipboard.6c926197.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 3.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H4a.5.5 0 010-1h3.5V4a.5.5 0 01.5-.5z\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M7.5 8a.5.5 0 01.5-.5h4a.5.5 0 010 1H8.5V12a.5.5 0 01-1 0V8z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"bi bi-plus\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.0a7c85e1.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgTrash(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"bi bi-trash\",\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrash);\nexport default __webpack_public_path__ + \"static/media/trash.35276603.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z\"\n});\n\nfunction SvgXCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    className: \"bi bi-x-circle-fill\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgXCircle);\nexport default __webpack_public_path__ + \"static/media/x-circle.058f514c.svg\";\nexport { ForwardRef as ReactComponent };","import { Icons_checkCircle, Icons_circle, Icons_xCircle } from '../comp/Icons'\r\nimport { TIcon } from '../comp/TIcon'\r\nimport { TodoState } from '../model/TodoState'\r\n\r\nexport function todoStateToIcon(s: TodoState): TIcon {\r\n\tswitch (s) {\r\n\t\tcase TodoState.NEW:\r\n\t\t\treturn Icons_circle\r\n\t\tcase TodoState.DONE:\r\n\t\t\treturn Icons_checkCircle\r\n\t\tcase TodoState.FAILED:\r\n\t\t\treturn Icons_xCircle\r\n\t}\r\n}\r\n","import React, { createElement, PropsWithChildren } from 'react'\r\nimport { TIcon } from './TIcon'\r\n\r\nexport interface IconCompProps {\r\n\ticon: TIcon\r\n}\r\n\r\nexport function IconComp(props: PropsWithChildren<IconCompProps>) {\r\n\treturn <i className='to-icon'>{createElement(props.icon)}</i>\r\n}\r\n","import React, { PropsWithChildren } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { todoStateToIcon } from '../fun/todoStateToIcon'\nimport { TodoState } from '../model/TodoState'\nimport { TodoStore } from '../store/TodoStore'\nimport { IconComp } from './IconComp'\nimport { Icons_trash } from './Icons'\n\nexport interface DeleteTodoCompProps {\n\tid: string\n}\n\nexport function DeleteTodoComp(props: PropsWithChildren<DeleteTodoCompProps>) {\n\tconst todo = TodoStore.useState((s) => s.todosById[props.id])\n\tconst history = useHistory()\n\treturn (\n\t\t<button\n\t\t\tclassName='to-todo__delete'\n\t\t\ttype='button'\n\t\t\tonClick={(e) => {\n\t\t\t\tTodoStore.update((s, o) => {\n\t\t\t\t\tif (s.todoOrder.length === 1) {\n\t\t\t\t\t\tconst todo = s.todosById[props.id]\n\t\t\t\t\t\ttodo.name = ''\n\t\t\t\t\t\ttodo.state = TodoState.NEW\n\t\t\t\t\t\thistory.goBack()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete s.todosById[props.id]\n\t\t\t\t\t\ts.todoOrder = o.todoOrder.filter((id) => id !== props.id)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}}\n\t\t>\n\t\t\t<div className='to-todo--name'>\n\t\t\t\t<IconComp icon={Icons_trash} />{' '}\n\t\t\t\t<IconComp icon={todoStateToIcon(todo.state)} /> {todo.name}\n\t\t\t</div>\n\t\t</button>\n\t)\n}\n","import React, { PropsWithChildren } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { TodoState } from '../model/TodoState'\nimport { makeTodoStoreState, TodoStore } from '../store/TodoStore'\nimport { DeleteTodoComp } from './DeleteTodoComp'\nimport { IconComp } from './IconComp'\nimport { Icons_arrowLeftShort, Icons_checkCircle, Icons_xCircle } from './Icons'\n\nexport interface DeleteTodoListCompProps {}\n\nexport function DeleteTodoListComp(\n\tprops: PropsWithChildren<DeleteTodoListCompProps>,\n) {\n\tconst history = useHistory()\n\tconst todoOrder = TodoStore.useState((s) => s.todoOrder)\n\treturn (\n\t\t<>\n\t\t\t<h1 className='to-title'>Delete TODOs</h1>\n\t\t\t<div className='to-buttons'>\n\t\t\t\t<button\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistory.goBack()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<IconComp icon={Icons_arrowLeftShort} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tTodoStore.update((s, o) => {\n\t\t\t\t\t\t\ts.todoOrder = o.todoOrder.filter((id) => {\n\t\t\t\t\t\t\t\tif (o.todosById[id].state === TodoState.DONE) {\n\t\t\t\t\t\t\t\t\tdelete s.todosById[id]\n\t\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t\tensureOneTodo()\n\t\t\t\t\t\thistory.goBack()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tDelete done <IconComp icon={Icons_checkCircle} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tTodoStore.update((s, o) => {\n\t\t\t\t\t\t\ts.todoOrder = o.todoOrder.filter((id) => {\n\t\t\t\t\t\t\t\tif (o.todosById[id].state === TodoState.FAILED) {\n\t\t\t\t\t\t\t\t\tdelete s.todosById[id]\n\t\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t\tensureOneTodo()\n\t\t\t\t\t\thistory.goBack()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tDelete failed <IconComp icon={Icons_xCircle} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tTodoStore.update((s) => makeTodoStoreState())\n\t\t\t\t\t\thistory.goBack()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tDelete all\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t{todoOrder.map((id) => (\n\t\t\t\t<DeleteTodoComp key={id} id={id} />\n\t\t\t))}\n\t\t</>\n\t)\n}\n\nfunction ensureOneTodo() {\n\tif (TodoStore.getRawState().todoOrder.length === 0) {\n\t\tTodoStore.update((s) => makeTodoStoreState())\n\t}\n}\n","import { Store } from 'pullstate'\r\n\r\nexport interface IAppStore {\r\n\treorderId: string | null\r\n}\r\n\r\nexport const AppStore = new Store<IAppStore>({\r\n\treorderId: null,\r\n})\r\n","import React, { PropsWithChildren } from 'react'\r\nimport { todoStateToIcon } from '../fun/todoStateToIcon'\r\nimport { AppStore } from '../store/AppStore'\r\nimport { TodoStore } from '../store/TodoStore'\r\nimport { IconComp } from './IconComp'\r\nimport { Icons_arrowDownShort, Icons_arrowRightShort } from './Icons'\r\n\r\nexport interface ReorderTodoCompProps {\r\n\tid: string\r\n}\r\n\r\nexport function ReorderTodoComp(\r\n\tprops: PropsWithChildren<ReorderTodoCompProps>,\r\n) {\r\n\tconst todo = TodoStore.useState((s) => s.todosById[props.id])\r\n\tconst reorderId = AppStore.useState((s) => s.reorderId)\r\n\treturn (\r\n\t\t<button\r\n\t\t\tclassName='to-todo__reorder'\r\n\t\t\ttype='button'\r\n\t\t\tonClick={(e) => {\r\n\t\t\t\tif (reorderId == null) {\r\n\t\t\t\t\tAppStore.update((s) => {\r\n\t\t\t\t\t\ts.reorderId = props.id\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tTodoStore.update((s, o) => {\r\n\t\t\t\t\t\tconst oldIndex = o.todoOrder.indexOf(reorderId)\r\n\t\t\t\t\t\tlet newIndex = o.todoOrder.indexOf(props.id) + 1\r\n\t\t\t\t\t\tif (newIndex > oldIndex) {\r\n\t\t\t\t\t\t\tnewIndex--\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ts.todoOrder.splice(oldIndex, 1)\r\n\t\t\t\t\t\ts.todoOrder.splice(newIndex, 0, reorderId)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tAppStore.update((s) => {\r\n\t\t\t\t\t\ts.reorderId = null\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className='to-todo--name'>\r\n\t\t\t\t<IconComp\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\treorderId == null\r\n\t\t\t\t\t\t\t? Icons_arrowRightShort\r\n\t\t\t\t\t\t\t: Icons_arrowDownShort\r\n\t\t\t\t\t}\r\n\t\t\t\t/>{' '}\r\n\t\t\t\t<IconComp icon={todoStateToIcon(todo.state)} /> {todo.name}\r\n\t\t\t</div>\r\n\t\t</button>\r\n\t)\r\n}\r\n","import React, { PropsWithChildren, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AppStore } from '../store/AppStore'\r\nimport { TodoStore } from '../store/TodoStore'\r\nimport { IconComp } from './IconComp'\r\nimport { Icons_arrowLeftShort } from './Icons'\r\nimport { ReorderTodoComp } from './ReorderTodoComp'\r\n\r\nexport interface ReorderTodoListCompProps {}\r\n\r\nexport function ReorderTodoListComp(\r\n\tprops: PropsWithChildren<ReorderTodoListCompProps>,\r\n) {\r\n\tconst todoOrder = TodoStore.useState((s) => s.todoOrder)\r\n\tconst reorderId = AppStore.useState((s) => s.reorderId)\r\n\tconst history = useHistory()\r\n\tuseEffect(\r\n\t\t() => () => {\r\n\t\t\tAppStore.update((s) => {\r\n\t\t\t\ts.reorderId = null\r\n\t\t\t})\r\n\t\t},\r\n\t\t[],\r\n\t)\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1 className='to-title'>Reorder TODOs</h1>\r\n\t\t\t<div className='to-buttons'>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thistory.goBack()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconComp icon={Icons_arrowLeftShort} />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t{todoOrder\r\n\t\t\t\t.filter((id) => id !== reorderId)\r\n\t\t\t\t.map((id) => (\r\n\t\t\t\t\t<ReorderTodoComp key={id} id={id} />\r\n\t\t\t\t))}\r\n\t\t</>\r\n\t)\r\n}\r\n","import React, { PropsWithChildren, useRef } from 'react'\nimport { v4 } from 'uuid'\nimport { todoStateToIcon } from '../fun/todoStateToIcon'\nimport { TodoState, TodoStates } from '../model/TodoState'\nimport { TodoStore } from '../store/TodoStore'\nimport { IconComp } from './IconComp'\n\nexport interface TodoCompProps {\n\tid: string\n\tindex: number\n}\n\nexport function TodoComp(props: PropsWithChildren<TodoCompProps>) {\n\tconst wasEmpty = useRef<boolean>(false)\n\tconst wasEdge = useRef<boolean>(false)\n\tconst todo = TodoStore.useState((s) => s.todosById[props.id])\n\treturn (\n\t\t<form\n\t\t\tclassName='to-todo'\n\t\t\tonSubmit={(e) => {\n\t\t\t\te.preventDefault()\n\t\t\t\tconst target = document.activeElement\n\t\t\t\tif (\n\t\t\t\t\ttarget instanceof HTMLInputElement &&\n\t\t\t\t\ttarget.classList.contains('to-todo--name')\n\t\t\t\t) {\n\t\t\t\t\tconst value1 = target.value.slice(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\ttarget.selectionStart ?? 0,\n\t\t\t\t\t\t\ttarget.selectionEnd ?? target.value.length,\n\t\t\t\t\t\t),\n\t\t\t\t\t)\n\t\t\t\t\tconst value2 = target.value.slice(\n\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\ttarget.selectionStart ?? 0,\n\t\t\t\t\t\t\ttarget.selectionEnd ?? target.value.length,\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttarget.value.length,\n\t\t\t\t\t)\n\t\t\t\t\tconst currentId = target.id.replace(/^input-/, '')\n\t\t\t\t\tconst newId = v4()\n\t\t\t\t\tTodoStore.update((s) => {\n\t\t\t\t\t\ts.todosById[currentId].name = value1\n\t\t\t\t\t\ts.todosById[newId] = {\n\t\t\t\t\t\t\tid: newId,\n\t\t\t\t\t\t\tname: value2,\n\t\t\t\t\t\t\tstate: TodoState.NEW,\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts.todoOrder.splice(props.index + 1, 0, newId)\n\t\t\t\t\t})\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\tconst newInput = document.getElementById(`input-${newId}`)\n\t\t\t\t\t\tif (newInput instanceof HTMLInputElement) {\n\t\t\t\t\t\t\tnewInput.focus()\n\t\t\t\t\t\t\tnewInput.setSelectionRange(0, 0)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<button\n\t\t\t\ttype='button'\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\tTodoStore.update((s) => {\n\t\t\t\t\t\tconst todo = s.todosById[props.id]\n\t\t\t\t\t\tconst index = TodoStates.indexOf(todo.state)\n\t\t\t\t\t\tconst newIndex = (index + 1) % TodoStates.length\n\t\t\t\t\t\ttodo.state = TodoStates[newIndex]\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<IconComp icon={todoStateToIcon(todo.state)} />\n\t\t\t</button>\n\t\t\t<input\n\t\t\t\tid={`input-${todo.id}`}\n\t\t\t\tclassName='to-todo--name'\n\t\t\t\tvalue={todo.name}\n\t\t\t\tautoComplete='off'\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tTodoStore.update((s) => {\n\t\t\t\t\t\ts.todosById[props.id].name = e.currentTarget.value\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t\tonBeforeInput={(e) => {\n\t\t\t\t\tconst input = (e.nativeEvent as InputEvent).data\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof input === 'string' &&\n\t\t\t\t\t\tinput.length > 1 &&\n\t\t\t\t\t\t/\\n|\\r/.test(input)\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tconst arr = input.split(/[\\r\\n]+/g)\n\t\t\t\t\t\tlet focusStart: number | undefined = undefined\n\t\t\t\t\t\tTodoStore.update((s) => {\n\t\t\t\t\t\t\tconst todo = s.todosById[props.id]\n\t\t\t\t\t\t\tconst start = Math.min(\n\t\t\t\t\t\t\t\te.currentTarget.selectionStart ?? 0,\n\t\t\t\t\t\t\t\te.currentTarget.selectionEnd ?? 0,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tconst end = Math.max(\n\t\t\t\t\t\t\t\te.currentTarget.selectionStart ?? todo.name.length,\n\t\t\t\t\t\t\t\te.currentTarget.selectionEnd ?? todo.name.length,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tconst last = todo.name.slice(end)\n\t\t\t\t\t\t\ttodo.name = todo.name.slice(0, start) + arr[0]\n\n\t\t\t\t\t\t\tfor (let i = 1; i < arr.length; i++) {\n\t\t\t\t\t\t\t\tconst name = i + 1 === arr.length ? arr[i] + last : arr[i]\n\t\t\t\t\t\t\t\tfocusStart = arr[i].length\n\t\t\t\t\t\t\t\tconst index = props.index + i\n\t\t\t\t\t\t\t\tconst id = v4()\n\t\t\t\t\t\t\t\ts.todoOrder.splice(index, 0, id)\n\t\t\t\t\t\t\t\ts.todosById[id] = {\n\t\t\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\tstate: TodoState.NEW,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\t\tfocusByIndex(\n\t\t\t\t\t\t\t\t\tprops.index + arr.length - 1,\n\t\t\t\t\t\t\t\t\tfocusStart,\n\t\t\t\t\t\t\t\t\tfocusStart,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\twasEmpty.current = e.currentTarget.value === ''\n\t\t\t\t\tif (e.key === 'Backspace') {\n\t\t\t\t\t\twasEdge.current =\n\t\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t\te.currentTarget.selectionStart ?? 0,\n\t\t\t\t\t\t\t\te.currentTarget.selectionEnd ?? e.currentTarget.value.length,\n\t\t\t\t\t\t\t) === 0\n\t\t\t\t\t\tif (wasEdge.current) {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.key === 'Delete') {\n\t\t\t\t\t\twasEdge.current =\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\te.currentTarget.selectionStart ?? 0,\n\t\t\t\t\t\t\t\te.currentTarget.selectionEnd ?? e.currentTarget.value.length,\n\t\t\t\t\t\t\t) === e.currentTarget.value.length\n\t\t\t\t\t\tif (wasEdge.current) {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.key === 'ArrowUp') {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t} else if (e.key === 'ArrowDown') {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonKeyUp={(e) => {\n\t\t\t\t\tif (e.key === 'Backspace') {\n\t\t\t\t\t\tif (wasEdge.current) {\n\t\t\t\t\t\t\tlet prevNameEnd: number | undefined = undefined\n\t\t\t\t\t\t\tTodoStore.update((s, o) => {\n\t\t\t\t\t\t\t\tconst index = o.todoOrder.indexOf(todo.id)\n\t\t\t\t\t\t\t\tif (index > 0) {\n\t\t\t\t\t\t\t\t\tconst prevTodo = s.todosById[s.todoOrder[index - 1]]\n\t\t\t\t\t\t\t\t\tprevNameEnd = prevTodo.name.length\n\t\t\t\t\t\t\t\t\tprevTodo.name += todo.name\n\t\t\t\t\t\t\t\t\tdelete s.todosById[todo.id]\n\t\t\t\t\t\t\t\t\ts.todoOrder.splice(props.index, 1)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\t\tfocusByIndex(props.index - 1, prevNameEnd, prevNameEnd)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.key === 'Delete') {\n\t\t\t\t\t\tif (wasEdge.current) {\n\t\t\t\t\t\t\tlet origNameEnd: number | undefined = undefined\n\t\t\t\t\t\t\tTodoStore.update((s, o) => {\n\t\t\t\t\t\t\t\tconst index = o.todoOrder.indexOf(todo.id)\n\t\t\t\t\t\t\t\tif (index < o.todoOrder.length - 1) {\n\t\t\t\t\t\t\t\t\tconst nextTodo = s.todosById[s.todoOrder[index + 1]]\n\t\t\t\t\t\t\t\t\torigNameEnd = todo.name.length\n\t\t\t\t\t\t\t\t\ts.todosById[todo.id].name += nextTodo.name\n\t\t\t\t\t\t\t\t\tdelete s.todosById[nextTodo.id]\n\t\t\t\t\t\t\t\t\ts.todoOrder.splice(index + 1, 1)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\t\tfocusByIndex(props.index, origNameEnd, origNameEnd)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.key === 'ArrowUp') {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tconst start = e.currentTarget.selectionStart ?? 0\n\t\t\t\t\t\tfocusByIndex(props.index - 1, start, start)\n\t\t\t\t\t} else if (e.key === 'ArrowDown') {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tconst end =\n\t\t\t\t\t\t\te.currentTarget.selectionEnd ?? e.currentTarget.value.length\n\t\t\t\t\t\tfocusByIndex(props.index + 1, end, end)\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t</form>\n\t)\n}\n\nfunction focusByIndex(index: number, start?: number, end?: number) {\n\tconst id = TodoStore.getRawState().todoOrder[index]\n\tif (id != null) {\n\t\tconst input = document.getElementById(`input-${id}`)\n\t\tif (input instanceof HTMLInputElement) {\n\t\t\tinput.focus()\n\t\t\tif (start != null && end != null) {\n\t\t\t\tinput.setSelectionRange(start, end)\n\t\t\t}\n\t\t}\n\t}\n}\n","import React, { PropsWithChildren } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { TodoState } from '../model/TodoState'\nimport { TodoStore } from '../store/TodoStore'\nimport { IconComp } from './IconComp'\nimport { Icons_arrowUpDown, Icons_clipboard, Icons_trash } from './Icons'\nimport { TodoComp } from './TodoComp'\n\nexport interface TodoListCompProps {}\n\nexport function TodoListComp(props: PropsWithChildren<TodoListCompProps>) {\n\tconst todoOrder = TodoStore.useState((s) => s.todoOrder)\n\tconst history = useHistory()\n\treturn (\n\t\t<>\n\t\t\t<div className='to-buttons'>\n\t\t\t\t<button\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistory.push(`/delete`)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<IconComp icon={Icons_trash} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistory.push(`/reorder`)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<IconComp icon={Icons_arrowUpDown} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tconst s = TodoStore.getRawState()\n\t\t\t\t\t\tnavigator.clipboard.writeText(\n\t\t\t\t\t\t\ts.todoOrder.map((id) => s.todosById[id].name).join('\\n'),\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<IconComp icon={Icons_clipboard} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype='button'\n\t\t\t\t\tstyle={{ marginLeft: 'auto' }}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tTodoStore.update((s, o) => {\n\t\t\t\t\t\t\tfor (const todo of Object.values(s.todosById)) {\n\t\t\t\t\t\t\t\ttodo.state = TodoState.NEW\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tReset all\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t{todoOrder.map((id, index) => {\n\t\t\t\treturn <TodoComp key={id} id={id} index={index} />\n\t\t\t})}\n\t\t</>\n\t)\n}\n","import React, { PropsWithChildren } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport { DeleteTodoListComp } from './DeleteTodoListComp'\r\nimport { ReorderTodoListComp } from './ReorderTodoListComp'\r\nimport { TodoListComp } from './TodoListComp'\r\n\r\nexport interface AppCompProps {}\r\n\r\nexport function AppComp(props: PropsWithChildren<AppCompProps>) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path='/delete' component={DeleteTodoListComp} />\r\n\t\t\t\t<Route path='/reorder' component={ReorderTodoListComp} />\r\n\t\t\t\t<Route path='/' component={TodoListComp} />\r\n\t\t\t</Switch>\r\n\t\t</>\r\n\t)\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport { AppComp } from './comp/AppComp'\r\nimport './index.css'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<HashRouter>\r\n\t\t\t<AppComp />\r\n\t\t</HashRouter>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root'),\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register()\r\n"],"sourceRoot":""}
function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n,r,o=globalThis,a={},i={},l=o.parcelRequire5af9;null==l&&((l=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},o.parcelRequire5af9=l),(0,l.register)("dRo73",function(t,n){e(t.exports,"register",()=>r,e=>r=e);var r,o=new Map;r=function(e,t){for(var n=0;n<t.length-1;n+=2)o.set(t[n],{baseUrl:e,path:t[n+1]})}}),l("dRo73").register(new URL("",import.meta.url).toString(),JSON.parse('["iTvKn","index.b3efdbe5.js","7n5G3","service-worker.js"]'));var s={};function d(){return new URL(location.hash.slice(1),location.href)}function c(){return""===location.hash.slice(1)}self,s=function(){var e={};e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};e.r(t),e.d(t,{FragmentComp:function(){return r},HtmlResultHandler:function(){return n},Spread:function(){return o},VComponent:function(){return c},VElement:function(){return a},VPlaceholder:function(){return s},VText:function(){return i},applyHandler:function(){return E},createElement:function(){return b},getIsLogging:function(){return p},m:function(){return x},mount:function(){return S},render:function(){return N},setIsLogging:function(){return h},unmount:function(){return z}});var n={};e.r(n),e.d(n,{mount:function(){return S},render:function(){return N},unmount:function(){return z}});var r=function(e,t){return t.children},o=function(e){this.items=e},a=function(e,t,n,r){this.name=e,this.props=t,this.children=n,this.trusted=r},i=function(e){this.text=e},l=function(){function e(t){this.items=t,this.itemByKey=new Map,this.count=0;for(var n=t.length,r=0;r<t.length;r++){var o=t[r];if(o instanceof c||o instanceof a)null!=o.key&&this.itemByKey.set(o.key,o);else if(o instanceof i||o instanceof e){this.itemByKey.clear();break}else n--}if(this.itemByKey.size&&this.itemByKey.size<n)throw Error("[qqf32k] Duplicate / missing keys in list: actual count = "+this.itemByKey.size+" < expected count = "+n)}return e.prototype.updateCount=function(){this.count=0;for(var t=0,n=this.items;t<n.length;t++){var r=n[t];r instanceof e||r instanceof c?this.count+=r.count:(r instanceof a||r instanceof i)&&this.count++}},e}(),s=function(e){this.value=e};function d(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r instanceof l||r instanceof c||r instanceof a||r instanceof i||r instanceof s)t.push(r);else if(r instanceof o)for(var u=0,f=d(r.items);u<f.length;u++){var v=f[u];t.push(v)}else Array.isArray(r)?t.push(new l(d(r))):["string","number","bigint"].includes(typeof r)?t.push(new i(r+"")):t.push(new s(r))}return t}var c=function(){function e(e,t,n){this.renderInternal=e,this.props=t,this.children=n,this.count=0,this.state={},this.internal={props:t,state:this.state,children:n}}return e.prototype.render=function(){this.renderedVirtual=this.renderInternal(void 0,this.internal),Array.isArray(this.renderedVirtual)||(this.renderedVirtual=this.renderedVirtual?[this.renderedVirtual]:[]),this.renderedVirtual=d(this.renderedVirtual)},e.prototype.updateCount=function(){this.count=0;for(var t=0,n=this.renderedVirtual;t<n.length;t++){var r=n[t];r instanceof l||r instanceof e?this.count+=r.count:(r instanceof a||r instanceof i)&&this.count++}},e}();function u(e){var t=e.handler,n=e.parent,r=e.index,o=e.virtual;if(o instanceof l)for(var s=0;s<o.items.length;s++)r=u({handler:t,parent:n,index:r,virtual:o.items[s]});else if(o instanceof c){if(r=g({handler:t,parent:n,index:r,virtuals:o.renderedVirtual,oldVirtuals:void 0,parentIsBeingRemoved:!1}),o.internal.onadded)try{o.internal.onadded()}catch(e){console.error(e)}if(o.internal.onupdated)try{o.internal.onupdated(!0)}catch(e){console.error(e)}}else if(o instanceof a){if(o.result=t.add({parent:n,index:r,virtual:o}),r++,null==o.trusted&&g({parent:o.result,handler:t,index:0,virtuals:o.children,oldVirtuals:void 0,parentIsBeingRemoved:!1}),o.ref)try{o.ref(o.result)}catch(e){console.error(e)}}else o instanceof i&&(o.result=t.add({parent:n,index:r,virtual:o}),r++);return r}function f(e){var t=e.handler,n=e.parent,r=e.index,o=e.virtual,s=e.parentIsBeingRemoved;if(o instanceof l)for(var d=0;d<o.items.length;d++)f({handler:t,parent:n,index:r,virtual:o.items[d],parentIsBeingRemoved:s});else if(o instanceof c){if(o.internal.onremove)try{o.internal.onremove()}catch(e){console.error(e)}g({handler:t,parent:n,index:r,virtuals:void 0,oldVirtuals:o.renderedVirtual,parentIsBeingRemoved:s}),o.internal.isRemoved=!0}else if(o instanceof a){if(g({handler:t,parent:o.result,index:0,virtuals:void 0,oldVirtuals:o.children,parentIsBeingRemoved:!0}),t.remove({parent:n,index:r,result:o.result,virtual:o,parentIsBeingRemoved:s}),o.ref)try{o.ref(void 0)}catch(e){console.error(e)}}else o instanceof i&&t.remove({parent:n,index:r,result:o.result,virtual:o,parentIsBeingRemoved:s})}var v=!0;function h(e){v=e}function p(){return v}function m(e,t){return e instanceof l&&t instanceof l||e instanceof c&&t instanceof c&&e.renderInternal===t.renderInternal||e instanceof a&&t instanceof a&&e.name===t.name&&e.trusted===t.trusted||e instanceof i&&t instanceof i}function g(e){var t=e.handler,n=e.parent,r=e.index,o=e.virtuals,s=e.oldVirtuals,d=e.parentIsBeingRemoved;if(o){if(s){for(var h=o.length;h<s.length;h++)f({handler:t,parent:n,index:r,virtual:s[h],parentIsBeingRemoved:d});for(var h=0;h<o.length;h++){var p=o[h],w=s[h];m(p,w)?r=function e(t){var n=t.handler,r=t.parent,o=t.index,s=t.virtual,d=t.oldVirtual,h=o;if(s instanceof l){if(s.itemByKey.size&&d.itemByKey.size){for(var p=[],m=0;m<d.items.length;m++){var w=d.items[m];if(w instanceof c||w instanceof a){var y=s.itemByKey.get(w.key);y?(h=e({handler:n,parent:r,index:h,virtual:y,oldVirtual:w}),p.push(y)):f({handler:n,parent:r,index:h,virtual:d.items[m],parentIsBeingRemoved:!1})}}for(var m=0;m<s.items.length;m++){var E=s.items[m];if(E instanceof c||E instanceof a){var w=d.itemByKey.get(E.key);w||(h=u({handler:n,parent:r,index:h,virtual:E}),p.push(E))}else v&&console.warn("[qysuqc] Invalid list item!",s.items,m,E)}for(var x=!0;x;){x=!1;for(var m=0;m<p.length-1;m++){var b=p[m],k=p[m+1];if(s.items.indexOf(b)-s.items.indexOf(k)>0){var R=function(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];if(o===n)return e;o instanceof l||o instanceof c?e+=o.count:e++}throw Error("[qyswku] Deep index not found.")}(o,p,b),I=R+(b instanceof c?b.count:1);(function e(t){var n=t.handler,r=t.parent,o=t.index,s=t.oldIndex,d=t.virtual;if(d instanceof l)for(var u=0;u<d.items.length;u++){var f=e({handler:n,parent:r,index:o,oldIndex:s,virtual:d.items[u]});o=f.index,s=f.oldIndex}else if(d instanceof c)for(var u=0;u<d.renderedVirtual.length;u++){var f=e({handler:n,parent:r,index:o,oldIndex:s,virtual:d.renderedVirtual[u]});o=f.index,s=f.oldIndex}else(d instanceof a||d instanceof i)&&(o!==s&&n.move({parent:r,oldIndex:s,index:o,result:d.result,virtual:d}),o<=s&&s++,o++);return{index:o,oldIndex:s}})({handler:n,parent:r,index:R,oldIndex:I,virtual:k}),p[m]=k,p[m+1]=b,x=!0}}}}else v&&s.items.length&&d.items.length&&console.warn("[qyt810] List without a key!",s),h=g({handler:n,parent:r,index:h,virtuals:s.items,oldVirtuals:d.items,parentIsBeingRemoved:!1})}else if(s instanceof c){if(h=g({handler:n,parent:r,index:h,virtuals:s.renderedVirtual,oldVirtuals:d.renderedVirtual,parentIsBeingRemoved:!1}),s.internal.onupdated)try{s.internal.onupdated(!1)}catch(e){console.error(e)}}else s instanceof a?(s.debug=d.debug,null!=s.debug&&--s.debug,s.result=d.result,n.update({result:s.result,virtual:s,oldVirtual:d}),h++,g({handler:n,parent:s.result,index:0,virtuals:s.children,oldVirtuals:d.children,parentIsBeingRemoved:!1})):s instanceof i&&(s.result=d.result,n.update({result:s.result,virtual:s,oldVirtual:d}),h++);return h}({handler:t,parent:n,index:r,virtual:p,oldVirtual:w}):(w&&f({handler:t,parent:n,index:r,virtual:w,parentIsBeingRemoved:!1}),r=u({handler:t,parent:n,index:r,virtual:p}))}}else for(var h=0;h<o.length;h++)r=u({handler:t,parent:n,index:r,virtual:o[h]})}else if(s)for(var h=0;h<s.length;h++)f({handler:t,parent:n,index:r,virtual:s[h],parentIsBeingRemoved:d});return r}function w(e,t){if(e instanceof l){if(t&&e.itemByKey.size&&t.itemByKey.size)for(var n=0;n<e.items.length;n++){var r=e.items[n];if(r instanceof c||r instanceof a){var o=t.itemByKey.get(r.key);o&&m(r,o)?w(r,o):w(r,void 0)}}else y(e.items,null==t?void 0:t.items);e.updateCount()}else if(e instanceof c){t instanceof c&&(e.debug=t.debug,null!=e.debug&&--e.debug,e.internal=t.internal,e.internal.props=e.props,e.state=e.internal.state,e.internal.children=e.children),e.render();try{y(e.renderedVirtual,null==t?void 0:t.renderedVirtual)}catch(n){if(e.internal.onerror)try{e.internal.onerror(n),e.render(),y(e.renderedVirtual,null==t?void 0:t.renderedVirtual)}catch(e){throw console.error(e),n}else throw n}e.updateCount()}else e instanceof a&&y(e.children,null==t?void 0:t.children)}function y(e,t){if(e){if(t)for(var n=0;n<e.length;n++){var r=e[n],o=t[n];m(r,o)?w(r,o):w(r,void 0)}else for(var n=0;n<e.length;n++)w(e[n],void 0)}}function E(e,t){var n=t?d(t):void 0,r=e.getVirtuals();n&&y(n,r),g({handler:e,parent:e.getRoot(),index:0,virtuals:n,oldVirtuals:r,parentIsBeingRemoved:!1}),e.setVirtuals(n)}function x(e,t,n){var r=Array.isArray(t)?{}:t||{},o=Array.isArray(t)?t:n||[],i=o?d(Array.isArray(o)?o:[o]):[];if("function"==typeof e){var l=r.key,s=r.debug;delete r.key,delete r.debug;var u=new c(e,r,i);return u.key=l,u.debug=s,u}var l=r.key,f=r.ref,s=r.debug,v=r.__UNSAFE_trust__;delete r.key,delete r.ref,delete r.debug,delete r.__UNSAFE_trust__;var u=new a(e,r,i,v);return u.key=l,u.ref=f,u.debug=s,u}function b(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return x(e,t,n)}var k=/^data-/i,R=/^attr--/i,I=/^on/,V=function(){function e(e){this.root=e}return e.prototype.getRoot=function(){return this.root},e.prototype.getVirtuals=function(){return this.v},e.prototype.setVirtuals=function(e){this.v=e},e.prototype.add=function(e){var t,n,r=null!==(t=e.parent.ownerDocument)&&void 0!==t?t:e.parent;return e.virtual instanceof a?("svg"===e.virtual.name||e.parent instanceof SVGElement?n=r.createElementNS("http://www.w3.org/2000/svg",e.virtual.name):n=r.createElement(e.virtual.name),L(n,e.virtual,void 0),null!=e.virtual.trusted&&(n.innerHTML=e.virtual.trusted)):n=r.createTextNode(e.virtual.text),e.index>=e.parent.childNodes.length?e.parent.appendChild(n):e.parent.insertBefore(n,e.parent.childNodes[e.index]),n},e.prototype.move=function(e){e.index>=e.parent.childNodes.length?e.parent.appendChild(e.result):e.parent.insertBefore(e.result,e.parent.childNodes[e.index])},e.prototype.update=function(e){if(e.virtual instanceof a){for(var t=0,n=Object.keys(e.oldVirtual.props);t<n.length;t++){var r=n[t];r in e.virtual.props||("class"===r?e.result.className="":"style"===r?e.result.removeAttribute("style"):k.test(r)?delete e.result.dataset[B(r)]:e.result[r]="")}L(e.result,e.virtual,e.oldVirtual),e.oldVirtual.trusted!==e.virtual.trusted&&(e.result.innerHTML=e.virtual.trusted)}else e.virtual.text!==e.oldVirtual.text&&(e.result.textContent=e.virtual.text);return e.result},e.prototype.remove=function(e){if(e.virtual instanceof a)for(var t=0,n=Object.keys(e.virtual.props);t<n.length;t++){var r=n[t];I.test(r)&&e.result.removeEventListener(r.slice(2),e.virtual.props[r])}e.parentIsBeingRemoved||e.parent.removeChild(e.result)},e}();function L(e,t,n){for(var r=0,o=Object.entries(t.props);r<o.length;r++){var a=o[r],i=a[0],l=a[1];if(!n||l!==n.props[i]){if(e instanceof HTMLElement)switch(i){case"class":e.className=null!=l?l:"";break;case"for":e.htmlFor=null!=l?l:"";break;case"tabindex":e.tabIndex=null!=l?l:"";break;case"style":e.setAttribute(i,null!=l?l:"");break;default:if(k.test(i))e.dataset[B(i)]=null!=l?l:"";else if(R.test(i))e.setAttribute(i.replace(R,""),null!=l?l:"");else if(I.test(i)){var s=null==n?void 0:n.props[i];s&&e.removeEventListener(i.slice(2),s),l&&e.addEventListener(i.slice(2),l)}else e[i]=null!=l?l:""}else if(e instanceof SVGElement){if(I.test(i)){var s=null==n?void 0:n.props[i];s&&e.removeEventListener(i.slice(2),s),l&&e.addEventListener(i.slice(2),l)}else e.setAttribute(i,null!=l?l:"")}else R.test(i)?e.setAttribute(i.replace(R,""),null!=l?l:""):e[i]=null!=l?l:""}}}function B(e){return e.slice(5).replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})}var D=[];function S(e,t){if(D.findIndex(function(t){return t[0].getRoot()===e})>=0)throw Error("[qzj84x] Root already mounted.");D.push([new V(e),t]),e.innerHTML=""}function z(e){var t=D.findIndex(function(t){return t[0].getRoot()===e});if(t<0)throw Error("[qqf154] Unknown root.");D.splice(t,1)}var A=!1,M=void 0;function N(){return M?(v&&(console.groupCollapsed("[qz65l6] ::: Render merged."),console.trace(),console.groupEnd()),M):M=new Promise(function(e,t){requestAnimationFrame(function(){if(M=void 0,A){t(Error("[qz65l9] Render in render not supported!"));return}A=!0,v&&(console.groupCollapsed("[qz65lc] ►►► Render."),console.trace(),console.groupEnd());for(var n=Date.now(),r=0;r<D.length;r++){var o=D[r];E(o[0],[x(o[1],{})])}v&&console.log("[qz65lf] ••• Rendered in "+(Date.now()-n)+" ms."),A=!1,e()})})}return t}();const u={rootScrollY:0};function f(){history.back(),window.dispatchEvent(new HashChangeEvent("hashchange"))}const v=/^\s*(-?\d+(?:\.\d*)?)x\s/;function h(e){return parseFloat(v.exec(e)?.[1]||"1")||0}const p=/(?:^|\s)(-?\d+(?:\.\d+)?)\s*$/;(n=r||(r={})).NEW="NEW",n.DONE="DONE",n.FAILED="FAILED";const m=[r.NEW,r.DONE,r.FAILED];class g{id;name;state;constructor(e){this.id=e.id??crypto.randomUUID(),this.name=e.name??"",this.state=e.state??r.NEW}get value(){var e;return this.state===r.DONE?(e=this.name,(parseFloat(p.exec(e)?.[1]||"0")||0)*h(e)):0}}function w(){return new g({name:"",state:r.NEW})}class y{id;name;todos;constructor(e){this.id=e.id??crypto.randomUUID(),this.name=e.name??"",this.todos=e.todos??[w()]}get value(){return this.todos.reduce((e,t)=>e+t.value,0)}}const E="TodoStore",x="todoLists";let b=function(...e){for(let t of e)try{return t()}catch(e){}}(()=>JSON.parse(localStorage[x]).map(e=>new y({...e,todos:e.todos.map(e=>new g(e))})),()=>(function(){let e=JSON.parse(localStorage[E]),t=[new y({name:"Todos",todos:e.todoOrder.map(t=>new g(e.todosById[t]))})];return localStorage[x]=JSON.stringify(t),delete localStorage[E],t})())??[new y({name:"Todos"})];function k(e=b){b=e,localStorage[x]=JSON.stringify(b)}var R={};e(R,"arrowDownShort",()=>t(I)),e(R,"arrowLeftShort",()=>t(V)),e(R,"arrowRightShort",()=>t(L)),e(R,"arrowUpDown",()=>t(B)),e(R,"arrowUpShort",()=>t(D)),e(R,"checkCircle",()=>t(S)),e(R,"check",()=>t(z)),e(R,"circle",()=>t(A)),e(R,"clipboard",()=>t(M)),e(R,"plus",()=>t(N)),e(R,"trash",()=>t(_)),e(R,"xCircle",()=>t(O));var I={};I='<svg class="bi bi-arrow-down-short" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.646 7.646a.5.5 0 0 1 .708 0L8 10.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8 4.5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5z" clip-rule="evenodd"/></svg>';var V={};V='<svg class="bi bi-arrow-left-short" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.854 4.646a.5.5 0 0 1 0 .708L5.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.5 8a.5.5 0 0 1 .5-.5h6.5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z" clip-rule="evenodd"/></svg>';var L={};L='<svg class="bi bi-arrow-right-short" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.793 8 8.146 5.354a.5.5 0 0 1 0-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5H11a.5.5 0 0 1 0 1H4.5A.5.5 0 0 1 4 8z" clip-rule="evenodd"/></svg>';var B={};B='<svg class="bi bi-arrow-up-down" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11 3.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10.646 2.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L11 3.707 8.354 6.354a.5.5 0 1 1-.708-.708l3-3zm-9 7a.5.5 0 0 1 .708 0L5 12.293l2.646-2.647a.5.5 0 1 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M5 2.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5z" clip-rule="evenodd"/></svg>';var D={};D='<svg class="bi bi-arrow-up-short" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 5.5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8 5.707 5.354 8.354a.5.5 0 1 1-.708-.708l3-3z" clip-rule="evenodd"/></svg>';var S={};S='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/></svg>';var z={};z='<svg class="bi bi-check" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" clip-rule="evenodd"/></svg>';var A={};A='<svg class="bi bi-circle" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" clip-rule="evenodd"/></svg>';var M={};M='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/></svg>';var N={};N='<svg class="bi bi-plus" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z" clip-rule="evenodd"/></svg>';var _={};_='<svg class="bi bi-trash" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/><path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" clip-rule="evenodd"/></svg>';var O={};O='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/></svg>';const C=Object.fromEntries(Object.keys(R).map(e=>[e,e]));function T(e){switch(e){case r.NEW:return C.circle;case r.DONE:return C.checkCircle;case r.FAILED:return C.xCircle}}const U=(e,t)=>(0,s.createElement)("svg",{class:"to-icon",viewBox:"0 0 16 16"},(0,s.createElement)("use",{href:`#${t.props.icon}`})),H=(e,t)=>{let n=t.props.todoList,o=t.props.index,a=n.todos[o];return(0,s.createElement)("button",{className:"to-todo__delete",type:"button",onclick:()=>{1===n.todos.length?(a.name="",a.state=r.NEW,k(),f()):(n.todos.splice(o,1),k(),(0,s.render)())}},(0,s.createElement)("div",{className:"to-todo--name"},(0,s.createElement)(U,{icon:C.trash})," ",(0,s.createElement)(U,{icon:T(a.state)})," ",a.name))},j=(e,t)=>{let n=b,o=d().searchParams.get("id"),a=n.find(e=>e.id===o);function i(){0===a.todos.length&&a.todos.push(w())}return(0,s.createElement)("div",{class:"to-list"},(0,s.createElement)("h1",{className:"to-title"},"Delete TODOs"),(0,s.createElement)("div",{className:"to-buttons"},(0,s.createElement)("button",{type:"button",onclick:async()=>{f()}},(0,s.createElement)(U,{icon:C.arrowLeftShort})),(0,s.createElement)("button",{type:"button",onclick:()=>{a.todos=a.todos.filter(e=>e.state!==r.DONE),i(),k(),f()}},"Delete done ",(0,s.createElement)(U,{icon:C.checkCircle})),(0,s.createElement)("button",{type:"button",onclick:()=>{a.todos=a.todos.filter(e=>e.state!==r.FAILED),i(),k(),f()}},"Delete failed ",(0,s.createElement)(U,{icon:C.xCircle})),(0,s.createElement)("button",{type:"button",onclick:()=>{a.todos=[w()],k(),f()}},"Delete all")),a.todos.map((e,t)=>(0,s.createElement)(H,{key:e.id,todoList:a,index:t})))},q=(e,t)=>(t.state.icons=t.state.icons??Object.entries(R).map(([e,t])=>t.replace(/<svg\b/,`<symbol id="${e}"`).replace(/<\/svg\b/,"</symbol")).join(""),(0,s.createElement)("div",{style:"display:none"},(0,s.createElement)("svg",{__UNSAFE_trust__:t.state.icons}))),F=(e,t)=>{let{index:n,todoList:o}=t.props,a=n>=0?o.todos[n]:new g({name:"< top >",state:r.NEW});return(0,s.createElement)("button",{class:["to-todo__reorder",n<0&&"to-todo__reorder--top"].filter(Boolean).join(" "),type:"button",onclick:()=>{if(null==u.todoToReorder)u.todoToReorder=a,(0,s.render)();else{let e=o.todos.indexOf(u.todoToReorder),t=n+1;t>e&&t--,o.todos.splice(e,1),o.todos.splice(t,0,u.todoToReorder),u.todoToReorder=void 0,k(),(0,s.render)()}},disabled:t.props.disabled},(0,s.createElement)("div",{class:"to-todo--name"},(0,s.createElement)(U,{icon:null==u.todoToReorder?C.arrowRightShort:C.arrowDownShort})," ",(0,s.createElement)(U,{icon:T(a.state)})," ",a.name))},K=(e,t)=>{let n=b,r=d().searchParams.get("id"),o=n.find(e=>e.id===r);return(0,s.createElement)("div",{class:"to-list"},(0,s.createElement)("h1",{className:"to-title"},"Reorder TODOs"),(0,s.createElement)("div",{className:"to-buttons"},(0,s.createElement)("button",{type:"button",onclick:f},(0,s.createElement)(U,{icon:C.arrowLeftShort}))),(0,s.createElement)(F,{todoList:o,index:-1,disabled:null==u.todoToReorder}),o.todos.filter(e=>e!==u.todoToReorder).map(e=>(0,s.createElement)(F,{key:e.id,todoList:o,index:o.todos.indexOf(e)})))};function W(){return Array.from(document.querySelectorAll(".to-todo--name,.to-list__head__name-in"))}function P(e,t,n){let r=W()[e];r instanceof HTMLElement&&r.focus(),r instanceof HTMLInputElement&&null!=t&&null!=n&&r.setSelectionRange(t,n)}const $=new Intl.NumberFormat("en");function J(e){return W().indexOf(e)}function Y(e){c()&&(u.rootScrollY=window.scrollY),location.hash=e,window.dispatchEvent(new HashChangeEvent("hashchange"))}const G=/^\s*-?\d+(?:\.\d*)?x\s/,Q=(e,t)=>{t.state.wasEmpty=t.state.wasEmpty??!1,t.state.wasEdge=t.state.wasEdge??!1;let n=t.props.todoList,o=t.props.index,a=n.todos[o];return(0,s.createElement)("form",{className:"to-todo",onsubmit:async e=>{e.preventDefault();let i=document.activeElement;if(i instanceof HTMLInputElement&&i.classList.contains("to-todo--name")){let e=n.todos[o-1],l=""===a.name.trim();if(l||e&&""===e.name.trim()){let e=b,r=e.indexOf(n),a=`List #${r+2}`;e.splice(r+1,0,new y({name:a,todos:n.todos.slice(o+(l&&o<n.todos.length-1?1:0))})),n.todos.length=l?o:o-1,0===n.todos.length&&n.todos.push(w()),k();let i=J(t.state.nameInRef);await (0,s.render)(),P(i+(l?0:-1),0,a.length)}else{let e=i.value.slice(0,Math.min(i.selectionStart??0,i.selectionEnd??i.value.length)),o=i.value.slice(Math.max(i.selectionStart??0,i.selectionEnd??i.value.length),i.value.length);a.name=e,n.todos.splice(t.props.index+1,0,new g({name:o,state:r.NEW})),k();let l=J(t.state.nameInRef);await (0,s.render)(),P(l+1,0,0)}}}},(0,s.createElement)("button",{type:"button",onclick:()=>{let e=(m.indexOf(a.state)+1)%m.length;a.state=m[e],k(),t.state.nameInRef?.focus(),(0,s.render)()}},(0,s.createElement)(U,{icon:T(a.state)})),(0,s.createElement)("input",{ref:e=>{t.state.nameInRef=e},id:`list-${n.id}-input-${a.id}`,className:"to-todo--name",value:a.name,autoComplete:"off",oninput:function(){a.name=this.value,k(),(0,s.render)()},onbeforeinput:async function(e){let o=e.data;if("string"==typeof o&&o.length>1&&/\n|\r/.test(o)){let i;e.preventDefault();let l=o.split(/[\r\n]+/g),d=Math.min(this.selectionStart??0,this.selectionEnd??0),c=Math.max(this.selectionStart??a.name.length,this.selectionEnd??a.name.length),u=a.name.slice(c);a.name=a.name.slice(0,d)+l[0];for(let e=1;e<l.length;e++){let o=e+1===l.length?l[e]+u:l[e];i=l[e].length;let a=t.props.index+e;crypto.randomUUID(),n.todos.splice(a,0,new g({name:o,state:r.NEW}))}k();let f=J(t.state.nameInRef);await (0,s.render)(),P(f+l.length-1,i,i)}},onkeydown:function(e){t.state.wasEmpty=""===this.value,"Backspace"===e.key?(t.state.wasEdge=0===Math.max(this.selectionStart??0,this.selectionEnd??this.value.length),t.state.wasEdge&&e.preventDefault()):"Delete"===e.key?(t.state.wasEdge=Math.min(this.selectionStart??0,this.selectionEnd??this.value.length)===this.value.length,t.state.wasEdge&&e.preventDefault()):"ArrowUp"===e.key?e.preventDefault():"ArrowDown"===e.key&&e.preventDefault()},onkeyup:async function(e){if("Backspace"===e.key){if(t.state.wasEdge){let e;let r=b,i=r.indexOf(n);if(o>0){let r=n.todos[o-1];e=r.name.length,r.name+=a.name,n.todos.splice(o,1),k();let i=J(t.state.nameInRef);await (0,s.render)(),P(i-1,e,e)}else if(i>0){let o=r[i-1],l=J(t.state.nameInRef);n.todos.length>1||""!==a.name.trim()?(o.todos=[...o.todos,...n.todos],e=0):(e=o.todos.at(-1)?.name.length||0,l--),r.splice(i,1),k(),await (0,s.render)(),P(l-1,e,e)}}}else if("Delete"===e.key){if(t.state.wasEdge){let e=a.name.length,r=t.props.index,o=b,i=o.indexOf(n);if(r<n.todos.length-1){let e=n.todos[r+1];a.name+=e.name,n.todos.splice(r+1,1)}else if(i<o.length-1){let e=o[i+1];(e.todos.length>1||""!==e.todos[0].name.trim())&&(n.todos=[...n.todos,...e.todos]),o.splice(i+1,1)}k(),await (0,s.render)(),P(J(t.state.nameInRef),e,e)}}else if("ArrowUp"===e.key){e.preventDefault();let n=this.selectionStart??0;P(J(t.state.nameInRef)-1,n,n)}else if("ArrowDown"===e.key){e.preventDefault();let n=this.selectionEnd??this.value.length;P(J(t.state.nameInRef)+1,n,n)}}}),(0,s.createElement)("button",{type:"button",onclick:async()=>{a.name=function(e){if(!G.test(e))return"2x "+e;{let t=h(e);return t<0?t--:t++,e.replace(G,t+"x ")}}(a.name),k(),t.state.nameInRef?.focus(),await (0,s.render)(),t.state.nameInRef?.setSelectionRange(0,a.name.split("x",2).at(0)?.length??0)}},(0,s.createElement)(U,{icon:C.plus})))},X=(e,t)=>{let n=b[t.props.index],o=n.value;return(0,s.createElement)("div",{class:"to-list"},(0,s.createElement)("div",{class:"to-list__head"},(0,s.createElement)("input",{ref:e=>{t.state.nameInRef=e},class:"to-list__head__name-in",value:n.name,oninput:function(){n.name=this.value,k()},onkeydown:function(e){"ArrowUp"===e.key?e.preventDefault():"ArrowDown"===e.key&&e.preventDefault()},onkeyup:async function(e){if("ArrowUp"===e.key){e.preventDefault();let n=this.selectionStart??0;P(J(t.state.nameInRef)-1,n,n)}else if("ArrowDown"===e.key){e.preventDefault();let n=this.selectionEnd??this.value.length;P(J(t.state.nameInRef)+1,n,n)}}}),0!=o&&(0,s.createElement)("div",{class:"to-list__head__value"},$.format(o)),0!=o&&(0,s.createElement)("button",{type:"button",onclick:()=>{navigator.clipboard.writeText(o+"")}},(0,s.createElement)(U,{icon:C.clipboard}))),(0,s.createElement)("div",{class:"to-buttons"},(0,s.createElement)("button",{type:"button",onclick:()=>{Y(`/delete?id=${encodeURIComponent(n.id)}`)}},(0,s.createElement)(U,{icon:C.trash})),(0,s.createElement)("button",{type:"button",onclick:()=>{Y(`/reorder?id=${encodeURIComponent(n.id)}`)}},(0,s.createElement)(U,{icon:C.arrowUpDown})),(0,s.createElement)("button",{type:"button",onclick:()=>{navigator.clipboard.writeText(n.todos.map(e=>e.name).join("\n"))}},(0,s.createElement)(U,{icon:C.clipboard})),(0,s.createElement)("button",{type:"button",style:"margin-left:auto",onclick:()=>{for(let e of n.todos)e.state=r.NEW;k(),(0,s.render)()}},"Reset all")),n.todos.map((e,t)=>(0,s.createElement)(Q,{key:e.id,id:e.id,todoList:n,index:t})))},Z=(e,t)=>(0,s.createElement)("div",{class:"to-lists"},b.map((e,t)=>(0,s.createElement)(X,{key:e.id,index:t})));(0,s.setIsLogging)(!1),(0,s.mount)(document.getElementById("root"),(e,t)=>(t.onadded=()=>{window.addEventListener("hashchange",async()=>{await (0,s.render)(),c()?window.scrollTo(0,u.rootScrollY):window.scrollTo(0,0)})},(0,s.createElement)(s.FragmentComp,null,(0,s.createElement)(q,null),(()=>{switch(d().pathname){case"/delete":return(0,s.createElement)(j,null);case"/reorder":return(0,s.createElement)(K,null);default:return(0,s.createElement)(Z,null)}})(),(0,s.createElement)("footer",null,"Version: ","4/9/2024, 1:56:25 PM")))),(0,s.render)();var ee={};ee=new URL("service-worker.js",import.meta.url).toString(),window.addEventListener("load",async()=>{try{let e=await navigator.serviceWorker.register(ee,{updateViaCache:"none"});console.log("[rbzbv7] Service worker registered."),e.update()}catch(e){console.error("[rbzbux]",e)}});